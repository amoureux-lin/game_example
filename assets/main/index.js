System.register("chunks:///_virtual/block.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,t,e,o,s,u,c,r,a,l,p,h,d,f;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,u=i._decorator,c=i.Node,r=i.Sprite,a=i.SpriteFrame,l=i.Vec3,p=i.tween,h=i.UITransform,d=i.Rect,f=i.Component}],execute:function(){var v,b,y,g,Y,S,k,T,m;s._RF.push({},"6cb43f0XAtE34BQ3z1S3Fgm","block",void 0);var w=u.ccclass,B=u.property;i("block",(v=w("block"),b=B({type:c}),y=B({type:r}),g=B({type:[a]}),v((k=n((S=function(i){function n(){for(var n,t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];return n=i.call.apply(i,[this].concat(s))||this,e(n,"nodeYinYing",k,o(n)),e(n,"spYuanSu",T,o(n)),e(n,"spfYuanSu",m,o(n)),n.canTouch=void 0,n.blockType=void 0,n.is_di=void 0,n.numDi=void 0,n.isXiaoChu=void 0,n.isMoving=void 0,n.v3BlockOld=void 0,n}t(n,i);var s=n.prototype;return s.start=function(){},s.init=function(i){this.node.scale=new l(1,1,1),this.blockType=i,this.canTouch=!0,this.is_di=!1,this.spYuanSu.spriteFrame=this.spfYuanSu[this.blockType]},s.initDi=function(i){this.node.scale=new l(1,1,1),this.v3BlockOld=new l(0,0,0),this.isMoving=!0,this.isXiaoChu=!1,this.numDi=-1,this.blockType=i,this.canTouch=!1,this.is_di=!0,this.nodeYinYing.active=!1,this.spYuanSu.spriteFrame=this.spfYuanSu[this.blockType]},s.shuaXinBlockSPF=function(i){var n=this;this.blockType=i,p(this.spYuanSu.node).to(.1,{scale:new l(0,0,0)}).call((function(){n.spYuanSu.spriteFrame=n.spfYuanSu[n.blockType]})).to(.1,{scale:new l(.7,.7,.7)}).start()},s.setTouch=function(i){this.canTouch=i,this.canTouch?this.nodeYinYing.active=!1:this.nodeYinYing.active=!0},s.getBoundingBox_pz=function(){var i=this.node.getComponent(h).getBoundingBox();return new d(i.x+5,i.y+5,i.width-10,i.height-10)},s.update=function(i){},n}(f)).prototype,"nodeYinYing",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(S.prototype,"spYuanSu",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(S.prototype,"spfYuanSu",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=S))||Y));s._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./block.ts","./gameData.ts","./env"],(function(t){var i,e,n,o,r,s,a,l,h,c,u,d,p,m,g,v,f,k,B,b,y,D,T,C,w,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Prefab,l=t.Node,h=t.Label,c=t.AudioClip,u=t.NodePool,d=t.AudioSource,p=t.input,m=t.Input,g=t.Vec3,v=t.instantiate,f=t.Sprite,k=t.Color,B=t.tween,b=t.UITransform,y=t.Vec2,D=t.sys,T=t.Component},function(t){C=t.block},function(t){w=t.gameData},function(t){S=t.WECHAT}],execute:function(){var A,x,J,P,L,E,X,M,N,I,z,_,O,R,W,j,K,H,U,F,G,V,q,Z,Q;t("sendToFlutter",tt),r._RF.push({},"59e28PFEKdEeL7ZeLR8eOgx","game",void 0);var Y=s.ccclass,$=s.property;t("game",(A=Y("game"),x=$({type:a}),J=$({type:l}),P=$({type:l}),L=$({type:l}),E=$({type:h}),X=$({type:l}),M=$({type:l}),N=$({type:h}),I=$({type:a}),z=$({type:[h]}),_=$({type:[c]}),A((W=i((R=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"preBlock",W,o(i)),n(i,"parentBlocks",j,o(i)),n(i,"parentBlocksDi",K,o(i)),n(i,"nodeTip",H,o(i)),n(i,"labelLevel",U,o(i)),n(i,"layerOver",F,o(i)),n(i,"parentEdit",G,o(i)),n(i,"labelBlocksInfo",V,o(i)),n(i,"preBlockEdit",q,o(i)),n(i,"arrLabelDJ",Z,o(i)),n(i,"arrAudio",Q,o(i)),i.numTouchStart=void 0,i.numTouchEnd=void 0,i.gameData=void 0,i.numLevel=void 0,i.xxStartDi=void 0,i.yyBlockChu=void 0,i.gameType=void 0,i.numBlockTypeGeShu=void 0,i.numBlockType=void 0,i.numBlocksKuaiGeShu=void 0,i.numBlocksKuai=void 0,i.arrNumDJ=void 0,i.audioSource=void 0,i.isEditing=void 0,i.numTypeEdit=void 0,i.numBlockEditMove=void 0,i.numTypeSuiJi=void 0,i.numSuiJi=void 0,i.bannerAd=void 0,i.wx=void 0,i.isWX=void 0,i.idBannerAD=void 0,i.interstitialAd=void 0,i.videoAd=void 0,i.numDJ=void 0,i.idChaPingAD=void 0,i.idJiLiShiPinAD=void 0,i.blockPool=void 0,i}e(i,t);var r=i.prototype;return r.start=function(){if(this.isWX=S,this.wx=window.wx,this.idBannerAD="xxxx",this.idChaPingAD="xxxx",this.idJiLiShiPinAD="xxxx",this.blockPool=new u,this.numLevel=0,this.numBlockTypeGeShu=10,this.numBlockType=2,this.numBlocksKuaiGeShu=99,this.numBlocksKuai=6,this.arrNumDJ=[3,3,3,3],this.isEditing=this.parentEdit.active,this.numTypeEdit=1,this.numTypeSuiJi=2,this.numSuiJi=200,this.numDJ=-1,this.audioSource=this.node.getComponent(d),this.yyBlockChu=120,this.xxStartDi=-240,this.gameData=this.node.getComponent(w),this.createBlocksEdit(),this.init(),this.isWX){this.bannerAd=null,this.interstitialAd=null,this.videoAd=null,this.initBannerAD(),this.initChaPing(),this.initJiLiShiPin(),this.wx.showShareMenu();var t=this.node.getChildByName("btn_study");t&&(t.active=!1),this.scheduleOnce((function(){this.bannerAd.show().then((function(){return console.log("banner 广告显示")}))}),5)}p.on(m.EventType.TOUCH_START,this.onTouchStart,this),p.on(m.EventType.TOUCH_MOVE,this.onTouchMove,this),p.on(m.EventType.TOUCH_END,this.onTouchEnd,this)},r.shareFirend=function(t){if(void 0!==this.wx){this.wx.shareAppMessage({title:"真是太好玩了,一起来玩吧",imageUrl:"https://download.cocos.com/CocosStore/icon/7374c4a18a774ab7a05b72d5d8e5fed6/7374c4a18a774ab7a05b72d5d8e5fed6.png"}),t&&t()}},r.showJiLiShiPin=function(){var t=this;this.videoAd?this.videoAd.show().catch((function(){t.videoAd.load().then((function(){return t.videoAd.show()})).catch((function(t){console.log("激励视频 广告显示失败")}))})):this.showTip("激励视频未加载成功")},r.initJiLiShiPin=function(){var t=this;this.videoAd=this.wx.createRewardedVideoAd({adUnitId:this.idJiLiShiPinAD}),this.videoAd.onLoad((function(){console.log("激励视频 广告加载成功")})),this.videoAd.onError((function(t){console.log(t)})),this.videoAd.onClose((function(i){i&&i.isEnded||void 0===i?0==t.numDJ?(t.arrNumDJ[0]++,t.shuaXinDJ()):1==t.numDJ?(t.arrNumDJ[1]++,t.shuaXinDJ()):2==t.numDJ?(t.arrNumDJ[2]++,t.shuaXinDJ()):3==t.numDJ&&(t.arrNumDJ[3]++,t.shuaXinDJ()):t.showTip("未观看完整广告，不予奖励！")}))},r.initChaPing=function(){this.wx.createInterstitialAd&&(this.interstitialAd=this.wx.createInterstitialAd({adUnitId:this.idChaPingAD}))},r.initBannerAD=function(){var t=this,i=this.wx.getSystemInfoSync().screenWidth,e=this.wx.getSystemInfoSync().screenHeight;this.bannerAd=this.wx.createBannerAd({adUnitId:this.idBannerAD,style:{left:0,top:0,width:300}}),this.bannerAd.onError((function(t){console.log(t)})),this.bannerAd.onLoad((function(){console.log("banner 广告加载成功")})),this.bannerAd.onResize((function(n){console.log(n.width,n.height),console.log(t.bannerAd.style.realWidth,t.bannerAd.style.realHeight),t.bannerAd.style.left=(i-t.bannerAd.style.realWidth)/2,t.bannerAd.style.top=e-t.bannerAd.style.realHeight}))},r.init=function(){if(this.gameType=0,this.numTouchStart=-1,this.numTouchEnd=-1,this.layerOver.active=!1,this.nodeTip.scale=new g(0,0,0),this.shuaXinLevelInfo(),this.shuaXinDJ(),this.isEditing)for(var t=this.parentBlocks.children,i=0;i<t.length;i++){var e=t[i].getComponent(C),n=Math.floor(30*Math.random());e.init(n)}else{for(var o=this.parentBlocks.children,r=o.length-1;r>=0;r--)this.onBlockKilled(o[r]);this.crateBlocks()}this.parentBlocksDi.removeAllChildren(),this.pddj(),this.btn3()},r.createBlocksEdit=function(){for(var t=0;t<15;t++)for(var i=0;i<13;i++){var e=v(this.preBlockEdit);e.parent=this.parentEdit,e.setPosition(40*t-280,45*i-55,0),t==Math.floor(7.5)&&(e.getComponent(f).color=new k(255,0,0,98))}},r.showTip=function(t){this.nodeTip.getChildByName("Label").getComponent(h).string=t,B(this.nodeTip).to(.1,{scale:new g(1,1,1)}).delay(1.5).to(.1,{scale:new g(0,0,0)}).start()},r.shuaXinDJ=function(){for(var t=0;t<this.arrLabelDJ.length;t++)this.arrLabelDJ[t].string=this.arrNumDJ[t]},r.shuaXinLevelInfo=function(){var t=this.numLevel+1;if(this.labelLevel.string="第"+t+"关",this.isEditing){1==this.numTypeEdit?this.labelLevel.string="添加块模式":this.labelLevel.string="删除块模式";var i=this.parentBlocks.children.length;i%3==0?(this.labelBlocksInfo.string="总共有"+i+"个块，是3的倍数",this.labelBlocksInfo.color=new k(0,0,0)):(this.labelBlocksInfo.string="总共有"+i+"个块，不是3的倍数",this.labelBlocksInfo.color=new k(255,0,0))}},r.onBlockKilled=function(t){this.blockPool.put(t)},r.crateBlocks=function(){var t=-1,i=this.numBlockTypeGeShu+this.numLevel*this.numBlockType;this.gameData.arrTypeLevel[this.numLevel]&&(i=this.gameData.arrTypeLevel[this.numLevel]),i>30&&(i=30);var e=Math.floor(Math.random()*i);if(this.gameData.arrPosLevel[this.numLevel])for(var n=0;n<this.gameData.arrPosLevel[this.numLevel].length;n++){t++;var o=null;o=this.blockPool.size()>0?this.blockPool.get():v(this.preBlock);var r=this.gameData.arrPosLevel[this.numLevel][n].x,s=this.gameData.arrPosLevel[this.numLevel][n].y;o.setPosition(r,s,0),o.parent=this.parentBlocks;var a=o.getComponent(C);t%3==0&&(e=Math.floor(Math.random()*i)),a.init(e)}else{for(var l=this.numBlocksKuaiGeShu+this.numLevel*this.numBlocksKuai,h=[],c=this.parentEdit.children,u=0;u<c.length;u++)"blockEdit"==c[u].name&&h.push(c[u].getPosition());for(var d=0;d<l;d++){t++;var p=null;p=this.blockPool.size()>0?this.blockPool.get():v(this.preBlock);var m=500*Math.random()-250,g=510*Math.random()-60;if(1==this.numTypeSuiJi){var f=Math.floor(Math.random()*h.length);m=h[f].x,g=h[f].y}else if(2==this.numTypeSuiJi&&Math.random()>.5){var k=Math.floor(Math.random()*h.length);m=h[k].x,g=h[k].y}p.setPosition(m,g,0),p.parent=this.parentBlocks;var B=p.getComponent(C);t%3==0&&(e=Math.floor(Math.random()*i)),B.init(e)}}},r.createBlockToBi=function(t,i){var e=this,n=null;(n=this.blockPool.size()>0?this.blockPool.get():v(this.preBlock)).parent=this.parentBlocksDi;var o=n.getComponent(C);o.initDi(t);var r=this.getNumDi();this.shuaXinNumDi(n);var s=this.xxStartDi+80*r,a=this.parentBlocks.getComponent(b).convertToWorldSpaceAR(i),l=this.parentBlocksDi.getComponent(b).convertToNodeSpaceAR(a);n.setPosition(l),o.v3BlockOld=l,B(n).to(.1,{position:new g(s,0,0)}).call((function(){e.pdXiaoChu(n)})).start()},r.pdXiaoChu=function(t){var i=t.getComponent(C);i.isMoving=!1;for(var e=i.numDi,n=this.parentBlocksDi.children,o=[],r=0;r<n.length;r++){var s=n[r].getComponent(C);i.blockType==s.blockType&&0==s.isXiaoChu&&o.push(n[r])}var a=!1;if(3==o.length)for(var l=o.length-1;l>=0;l--)o[l].getComponent(C).isXiaoChu=!0,B(o[l]).delay(.05).to(.08,{scale:new g(0,0,0)}).removeSelf().start(),a=!0;if(a){this.audioSource.playOneShot(this.arrAudio[1],1);for(var h=this.parentBlocksDi.children,c=0;c<h.length;c++){var u=h[c].getComponent(C);if(u.numDi>e){u.numDi=u.numDi-3;var d=this.xxStartDi+80*u.numDi;B(h[c]).delay(.05).to(.08,{position:new g(d,0,0)}).start()}}}for(var p=0,m=this.parentBlocksDi.children,v=0;v<m.length;v++){m[v].getComponent(C).isXiaoChu&&p++}m.length-p>=7&&(this.gameType=-1,this.audioSource.playOneShot(this.arrAudio[2],1),this.interstitialAd&&this.interstitialAd.show().catch((function(t){console.error(t)})),this.scheduleOnce((function(){this.layerOver.active=!0}),.5))},r.getNumDi=function(){for(var t=this.parentBlocksDi.children,i=t[t.length-1].getComponent(C),e=0,n=0;n<t.length;n++){t[n].getComponent(C).isXiaoChu&&e++}t.length-e==1&&(i.numDi=0);for(var o=t.length-2;o>=0;o--){var r=t[o].getComponent(C);if(i.blockType==r.blockType&&0==r.isXiaoChu)return i.numDi=r.numDi+1,i.numDi}return i.numDi=t.length-1-e,i.numDi},r.shuaXinNumDi=function(t){for(var i=t.getComponent(C).numDi,e=this.parentBlocksDi.children,n=0;n<e.length;n++){var o=e[n].getComponent(C);if(t.uuid!=e[n].uuid&&!o.isXiaoChu&&o.numDi>=i){o.numDi++;var r=this.xxStartDi+80*o.numDi;B(e[n]).to(.09,{position:new g(r,0,0)}).start()}}},r.pddj=function(){for(var t=this.parentBlocks.children,i=0;i<t.length;i++){var e=t[i].getComponent(C),n=e.getBoundingBox_pz();e.setTouch(!0);for(var o=i+1;o<t.length;o++){var r=t[o].getComponent(C).getBoundingBox_pz();if(n.intersects(r)){e.setTouch(!1);break}}}},r.onTouchStart=function(t){if(0==this.gameType&&!this.pdBlockDiMoving()){this.numTouchStart=-1;var i=t.getUILocation(),e=this.parentBlocks.getComponent(b).convertToNodeSpaceAR(new g(i.x,i.y,0)),n=this.parentEdit.getComponent(b).convertToNodeSpaceAR(new g(i.x,i.y,0));if(this.isEditing){if(1==this.numTypeEdit)for(var o=this.parentEdit.children,r=o.length-1;r>=0;r--){if(o[r].getComponent(b).getBoundingBox().contains(new y(n.x,n.y))){this.numBlockEditMove=r;var s=null;(s=this.blockPool.size()>0?this.blockPool.get():v(this.preBlock)).parent=this.parentBlocks,s.setPosition(o[r].getPosition());var a=s.getComponent(C),l=Math.floor(30*Math.random());a.init(l),this.shuaXinLevelInfo(),this.pddj();break}}else if(0==this.numTypeEdit)for(var h=this.parentBlocks.children,c=h.length-1;c>=0;c--){h[c].getComponent(C);if(h[c].getComponent(b).getBoundingBox().contains(new y(e.x,e.y))){this.onBlockKilled(h[c]),this.shuaXinLevelInfo(),this.pddj();break}}}else for(var u=this.parentBlocks.children,d=u.length-1;d>=0;d--){if(0!=u[d].getComponent(C).canTouch)if(u[d].getComponent(b).getBoundingBox().contains(new y(e.x,e.y))){this.audioSource.playOneShot(this.arrAudio[0],1),this.numTouchStart=d,B(u[d]).to(.1,{scale:new g(1.2,1.2,1.2)}).start();break}}}},r.onTouchMove=function(t){var i=t.getUILocation(),e=this.parentBlocks.getComponent(b).convertToNodeSpaceAR(new g(i.x,i.y,0)),n=this.parentEdit.getComponent(b).convertToNodeSpaceAR(new g(i.x,i.y,0));if(this.isEditing){if(1==this.numTypeEdit)for(var o=this.parentEdit.children,r=o.length-1;r>=0;r--){if(o[r].getComponent(b).getBoundingBox().contains(new y(n.x,n.y))){if(this.numBlockEditMove==r)return;this.numBlockEditMove=r;var s=null;(s=this.blockPool.size()>0?this.blockPool.get():v(this.preBlock)).parent=this.parentBlocks,s.setPosition(o[r].getPosition());var a=s.getComponent(C),l=Math.floor(30*Math.random());a.init(l),this.shuaXinLevelInfo(),this.pddj();break}}else if(0==this.numTypeEdit)for(var h=this.parentBlocks.children,c=h.length-1;c>=0;c--){h[c].getComponent(C);if(h[c].getComponent(b).getBoundingBox().contains(new y(e.x,e.y))){this.onBlockKilled(h[c]),this.shuaXinLevelInfo(),this.pddj();break}}}else;},r.onTouchEnd=function(t){if(!this.isEditing&&0==this.gameType&&!this.pdBlockDiMoving()){for(var i=t.getUILocation(),e=this.parentBlocks.getComponent(b).convertToNodeSpaceAR(new g(i.x,i.y,0)),n=this.parentBlocks.children,o=n.length-1;o>=0;o--){if(0!=n[o].getComponent(C).canTouch)if(n[o].getComponent(b).getBoundingBox().contains(new y(e.x,e.y))&&(this.numTouchEnd=o,this.numTouchStart==this.numTouchEnd)){var r=n[o].getComponent(C).blockType;this.createBlockToBi(r,n[o].getPosition()),this.onBlockKilled(n[o]),this.pddj();break}}-1!=this.numTouchStart&&B(n[this.numTouchStart]).to(.1,{scale:new g(1,1,1)}).start(),0==this.parentBlocks.children.length&&(this.gameType=1,this.audioSource.playOneShot(this.arrAudio[3],1),this.numLevel++,this.interstitialAd&&this.interstitialAd.show().catch((function(t){console.error(t)})),this.scheduleOnce((function(){this.init()}),1))}},r.pdBlockDiMoving=function(){var t=!1,i=this.parentBlocksDi.children;i.length>0&&(t=i[i.length-1].getComponent(C).isMoving);return t},r.callBackBtn=function(t,i){var e=this;if("btn_3"==i){if(this.arrNumDJ[2]<=0)return void(this.isWX?(this.numDJ=2,this.showJiLiShiPin()):this.showTip("该道具数量为0"));this.arrNumDJ[2]--,this.shuaXinDJ(),this.btn3()}else if("btn_shuChu"==i)this.shuChuPosBlocks();else if("btn_1"==i){if(this.arrNumDJ[0]<=0)return void(this.isWX?(this.numDJ=0,this.showJiLiShiPin()):this.showTip("该道具数量为0"));this.arrNumDJ[0]--,this.btn1(),this.shuaXinDJ()}else if("btn_2"==i){if(this.arrNumDJ[1]<=0){if(this.isWX){this.shareFirend((function(){e.arrNumDJ[1]++,e.shuaXinDJ()}))}else this.showTip("该道具数量为0");return}this.arrNumDJ[1]--,this.btn2(),this.shuaXinDJ()}else if("btn_fh"==i){if(this.arrNumDJ[3]<=0)return void(this.isWX?(this.numDJ=3,this.showJiLiShiPin()):this.showTip("该道具数量为0"));this.arrNumDJ[3]--,this.shuaXinDJ(),this.gameType=0,this.layerOver.active=!1,this.btn1()}else if("btn_cw"==i)this.numLevel=0,this.init();else if("btn_yin"==i)for(var n=this.parentEdit.children,o=0;o<n.length;o++)"blockEdit"==n[o].name&&(n[o].active=!n[o].active);else if("btn_qingKong"==i)this.parentBlocks.removeAllChildren(),this.shuaXinLevelInfo();else if("btn_jia"==i)this.numTypeEdit=1,this.shuaXinLevelInfo();else if("btn_jian"==i)this.numTypeEdit=0,this.shuaXinLevelInfo();else if("btn_suiJi"==i){for(var r=[],s=this.parentEdit.children,a=0;a<s.length;a++)"blockEdit"==s[a].name&&r.push(s[a].getPosition());for(var l=0;l<this.numSuiJi;l++){var h=null;(h=this.blockPool.size()>0?this.blockPool.get():v(this.preBlock)).parent=this.parentBlocks;var c=Math.floor(Math.random()*r.length);h.setPosition(r[c]),h.getComponent(C).init(Math.floor(30*Math.random()))}this.shuaXinLevelInfo(),this.pddj()}else"btn_GB"==i&&tt()},r.btn2=function(){for(var t=this,i=this.parentBlocksDi.children,e=-1,n=i.length-1;n>=0;n--){if(!i[n].getComponent(C).isXiaoChu){e=n;break}}var o=-1;if(-1!=e){var r=i[e].getComponent(C);o=r.numDi,r.isXiaoChu=!0;var s=r.v3BlockOld,a=this.parentBlocksDi.getComponent(b).convertToWorldSpaceAR(s),l=this.parentBlocks.getComponent(b).convertToNodeSpaceAR(a);B(i[e]).to(.1,{position:s}).call((function(){var i=null;(i=t.blockPool.size()>0?t.blockPool.get():v(t.preBlock)).parent=t.parentBlocks,i.setPosition(l),i.getComponent(C).init(r.blockType),t.pddj()})).removeSelf().start()}-1==o&&(this.arrNumDJ[1]++,this.showTip("当前不可用该道具"));for(var h=this.parentBlocksDi.children,c=0;c<h.length;c++){var u=h[c].getComponent(C);if(!u.isXiaoChu&&(u.numDi>o&&-1!=o)){u.numDi=u.numDi-1;var d=this.xxStartDi+80*u.numDi;B(h[c]).to(.08,{position:new g(d,0,0)}).start()}}},r.btn1=function(){for(var t=this,i=[],e=this.parentBlocksDi.children,n=0;n<e.length;n++){var o=e[n].getComponent(C);o.numDi<3&&0==o.isXiaoChu&&i.push(e[n])}var r=i.length;0==r&&(this.arrNumDJ[0]++,this.showTip("当前不可用该道具"));for(var s=function(){var e=i[a].getComponent(C),n=new g(80*e.numDi-80,t.yyBlockChu,0),o=t.parentBlocksDi.getComponent(b).convertToWorldSpaceAR(n),r=t.parentBlocks.getComponent(b).convertToNodeSpaceAR(o);e.isXiaoChu=!0,B(i[a]).to(.1,{position:n}).call((function(){var i=null;(i=t.blockPool.size()>0?t.blockPool.get():v(t.preBlock)).parent=t.parentBlocks,i.setPosition(r),i.getComponent(C).init(e.blockType),t.pddj()})).removeSelf().start()},a=i.length-1;a>=0;a--)s();for(var l=this.parentBlocksDi.children,h=0;h<l.length;h++){var c=l[h].getComponent(C);if(!c.isXiaoChu){c.numDi=c.numDi-r;var u=this.xxStartDi+80*c.numDi;B(l[h]).to(.08,{position:new g(u,0,0)}).start()}}},r.btn3=function(){for(var t=this.parentBlocks.children,i=0;i<t.length;i++){var e=t[i].getComponent(C),n=t[Math.floor(Math.random()*t.length)].getComponent(C),o=e.blockType,r=n.blockType;e.shuaXinBlockSPF(r),n.shuaXinBlockSPF(o)}},r.shuChuPosBlocks=function(){for(var t="",i=this.parentBlocks.children,e=0;e<i.length;e++){var n=i[e].getPosition();t=t+"{x:"+n.x+",y:"+n.y+"},"}i.length%3==0?i.length>0?this.copyToClipBoard(t):(console.log("块的个数为0，无效"),this.showTip("块的个数为0，无效")):(console.log("块的个数不是3的倍数，无效"),this.showTip("块的个数不是3的倍数，无效"))},r.copyToClipBoard=function(t){if(D.isNative);else if(D.isBrowser){var i=document.createElement("textarea");i.textContent=t,document.body.appendChild(i),i.readOnly=!0,i.select(),i.setSelectionRange(0,i.textContent.length);try{var e=document.execCommand("copy");return document.body.removeChild(i),e?(this.showTip("复制数据成功！"),console.log("复制数据成功！"),!0):(this.showTip("复制失败！"),console.log("复制失败！"),!1)}catch(t){return this.showTip("复制失败！"),console.log("复制失败！"),!1}}},r.update=function(t){},i}(T)).prototype,"preBlock",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(R.prototype,"parentBlocks",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(R.prototype,"parentBlocksDi",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(R.prototype,"nodeTip",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(R.prototype,"labelLevel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(R.prototype,"layerOver",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(R.prototype,"parentEdit",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(R.prototype,"labelBlocksInfo",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(R.prototype,"preBlockEdit",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(R.prototype,"arrLabelDJ",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(R.prototype,"arrAudio",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=R))||O));function tt(){window.flutter_inappwebview&&window.flutter_inappwebview.callHandler("flutterChannel","Hello from JS",123).then((function(t){console.log("收到 Dart 返回：",t)})),window.NativeBridge&&(window.NativeBridge.postMessage("Hello from JavaScript!"),window.NativeBridge.onmessage=function(t){console.log("Reply from Flutter:",t.data)})}r._RF.pop()}}}));

System.register("chunks:///_virtual/gameData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(y){var x,e,t,r;return{setters:[function(y){x=y.inheritsLoose},function(y){e=y.cclegacy,t=y._decorator,r=y.Component}],execute:function(){var a;e._RF.push({},"751d6Xjyu9D+6Q00DTbHagk","gameData",void 0);var o=t.ccclass;t.property,y("gameData",o("gameData")(a=function(y){function e(){for(var x,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(x=y.call.apply(y,[this].concat(t))||this).arrPosLevel=void 0,x.arrTypeLevel=void 0,x}x(e,y);var t=e.prototype;return t.start=function(){this.arrTypeLevel=[5,16],this.arrPosLevel=[[{x:-160,y:440},{x:-160,y:395},{x:0,y:440},{x:0,y:395},{x:160,y:440},{x:160,y:395},{x:-160,y:260},{x:-160,y:215},{x:0,y:260},{x:0,y:215},{x:160,y:260},{x:160,y:215},{x:-160,y:80},{x:-160,y:35},{x:0,y:80},{x:0,y:35},{x:160,y:80},{x:160,y:35}],[{x:0,y:35},{x:-160,y:350},{x:240,y:350},{x:240,y:80},{x:40,y:395},{x:-160,y:305},{x:-280,y:80},{x:-160,y:485},{x:-120,y:125},{x:-120,y:215},{x:-200,y:305},{x:280,y:125},{x:-240,y:125},{x:160,y:395},{x:-240,y:125},{x:160,y:215},{x:120,y:215},{x:200,y:80},{x:280,y:125},{x:0,y:395},{x:-80,y:395},{x:120,y:485},{x:-160,y:125},{x:280,y:350},{x:40,y:350},{x:160,y:350},{x:160,y:305},{x:120,y:440},{x:80,y:350},{x:200,y:440},{x:-280,y:350},{x:-80,y:305},{x:40,y:395},{x:40,y:80},{x:80,y:485},{x:240,y:305},{x:-160,y:260},{x:-240,y:35},{x:-120,y:305},{x:-40,y:350},{x:200,y:170},{x:-120,y:-10},{x:160,y:395},{x:240,y:125},{x:120,y:-10},{x:200,y:35},{x:120,y:305},{x:-80,y:-10},{x:-120,y:-10},{x:160,y:-10},{x:0,y:395},{x:-120,y:305},{x:240,y:35},{x:120,y:35},{x:-40,y:-55},{x:-80,y:485},{x:-200,y:80},{x:200,y:395},{x:-280,y:350},{x:-160,y:-10},{x:-80,y:305},{x:120,y:-55},{x:-80,y:-10},{x:-80,y:485},{x:-200,y:125},{x:160,y:305},{x:-40,y:350},{x:-200,y:395},{x:200,y:350},{x:40,y:35},{x:160,y:170},{x:-120,y:485},{x:-120,y:-55},{x:-160,y:305},{x:160,y:350},{x:160,y:-55},{x:-120,y:350},{x:160,y:80},{x:-240,y:125},{x:-160,y:215},{x:80,y:395},{x:200,y:215},{x:-80,y:440},{x:-200,y:350},{x:-120,y:170},{x:-160,y:35},{x:200,y:170},{x:-160,y:350},{x:0,y:35},{x:240,y:170},{x:280,y:35},{x:-200,y:305},{x:-120,y:395},{x:160,y:260},{x:0,y:35},{x:-160,y:260},{x:280,y:305},{x:280,y:395},{x:80,y:-55},{x:-160,y:170},{x:160,y:-55},{x:-200,y:350},{x:160,y:350},{x:-120,y:125},{x:240,y:35},{x:80,y:125},{x:200,y:305},{x:-40,y:80},{x:280,y:125},{x:-280,y:305},{x:-160,y:-10},{x:-40,y:35},{x:-160,y:440},{x:-240,y:395},{x:-280,y:80},{x:-200,y:35},{x:-160,y:395},{x:160,y:305},{x:-120,y:80},{x:280,y:350},{x:-160,y:440},{x:0,y:80},{x:-280,y:305},{x:-120,y:170},{x:-80,y:395},{x:-80,y:125},{x:-40,y:350},{x:240,y:350},{x:80,y:35},{x:120,y:-55},{x:-120,y:170},{x:-240,y:350},{x:-40,y:125},{x:-40,y:-10},{x:-280,y:125},{x:0,y:350},{x:-120,y:35},{x:-280,y:125},{x:80,y:440},{x:-200,y:350},{x:-120,y:-10},{x:-200,y:350},{x:-40,y:35},{x:240,y:350},{x:120,y:170},{x:160,y:-55},{x:-200,y:80},{x:200,y:125},{x:-120,y:35},{x:-160,y:350},{x:160,y:260},{x:240,y:350},{x:160,y:350},{x:240,y:35},{x:120,y:485},{x:-160,y:350},{x:-120,y:-10},{x:-160,y:440},{x:200,y:35},{x:80,y:485},{x:-120,y:260},{x:280,y:350},{x:120,y:170},{x:200,y:305},{x:120,y:35},{x:-160,y:170},{x:0,y:395},{x:120,y:-10},{x:200,y:125},{x:160,y:440},{x:80,y:350},{x:240,y:80},{x:160,y:440},{x:-200,y:80},{x:-80,y:-10},{x:0,y:80},{x:200,y:80},{x:80,y:35},{x:0,y:80},{x:160,y:440},{x:200,y:350},{x:80,y:80},{x:240,y:80},{x:-40,y:-10},{x:-80,y:485},{x:80,y:440},{x:-200,y:80},{x:240,y:125},{x:160,y:350},{x:160,y:35},{x:-160,y:440},{x:-160,y:35},{x:160,y:350},{x:-120,y:260},{x:120,y:125},{x:200,y:170},{x:160,y:170},{x:160,y:350},{x:80,y:-10},{x:160,y:125},{x:120,y:305},{x:80,y:35},{x:80,y:485},{x:-80,y:-55},{x:240,y:170},{x:-40,y:125},{x:160,y:-10},{x:-280,y:80},{x:160,y:215},{x:-240,y:35},{x:-40,y:-55},{x:80,y:125},{x:120,y:-55},{x:80,y:-10},{x:160,y:215},{x:240,y:35},{x:200,y:170},{x:-80,y:395},{x:-80,y:35},{x:120,y:485},{x:280,y:170},{x:80,y:80},{x:240,y:80},{x:160,y:-10},{x:-240,y:350},{x:160,y:80},{x:-80,y:-10},{x:-120,y:395},{x:-120,y:-55},{x:-40,y:125},{x:200,y:80},{x:-80,y:395},{x:-40,y:80},{x:200,y:125},{x:-120,y:350},{x:-120,y:440},{x:-40,y:80},{x:-120,y:35},{x:160,y:440},{x:-160,y:350},{x:80,y:80},{x:280,y:305},{x:-80,y:-55},{x:120,y:485},{x:-120,y:-10},{x:-280,y:305},{x:80,y:35},{x:-240,y:35},{x:-120,y:-10},{x:-120,y:-55},{x:-240,y:395},{x:120,y:-10},{x:-200,y:305},{x:-40,y:35},{x:160,y:-55},{x:80,y:-10},{x:-280,y:350},{x:-40,y:35},{x:-280,y:305},{x:-80,y:-55},{x:120,y:35},{x:-240,y:395},{x:-160,y:-10},{x:80,y:35},{x:-40,y:35},{x:160,y:-10},{x:-160,y:-55},{x:120,y:-55},{x:-40,y:35},{x:160,y:485},{x:-80,y:-55},{x:160,y:485},{x:-40,y:35},{x:160,y:-55},{x:120,y:-10},{x:160,y:35},{x:80,y:485},{x:120,y:-10},{x:160,y:-10},{x:-280,y:350},{x:80,y:-55},{x:80,y:485},{x:-280,y:125},{x:-280,y:305},{x:-160,y:-55},{x:160,y:35},{x:-80,y:-55},{x:-160,y:-10}]]},t.update=function(y){},e}(r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./block.ts","./game.ts","./gameData.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});